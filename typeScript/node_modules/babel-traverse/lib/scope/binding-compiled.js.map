{"version":3,"sources":["binding.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,UAAR,GAAqB,IAArB;;AAEA,IAAI,mBAAmB,QAAQ,sCAAR,CAAvB;;AAEA,IAAI,mBAAmB,uBAAuB,gBAAvB,CAAvB;;AAEA,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,SAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;AAE/F,IAAI,UAAU,YAAY;AACxB,WAAS,OAAT,CAAiB,IAAjB,EAAuB;AACrB,QAAI,WAAW,KAAK,QAApB;AAAA,QACI,aAAa,KAAK,UADtB;AAAA,QAEI,QAAQ,KAAK,KAFjB;AAAA,QAGI,OAAO,KAAK,IAHhB;AAAA,QAII,OAAO,KAAK,IAJhB;AAKA,KAAC,GAAG,iBAAiB,OAArB,EAA8B,IAA9B,EAAoC,OAApC;;AAEA,SAAK,UAAL,GAAkB,UAAlB;AACA,SAAK,KAAL,GAAa,KAAb;AACA,SAAK,IAAL,GAAY,IAAZ;AACA,SAAK,IAAL,GAAY,IAAZ;;AAEA,SAAK,kBAAL,GAA0B,EAA1B;AACA,SAAK,QAAL,GAAgB,IAAhB;;AAEA,SAAK,cAAL,GAAsB,EAAtB;AACA,SAAK,UAAL,GAAkB,KAAlB;AACA,SAAK,UAAL,GAAkB,CAAlB;;AAEA,SAAK,UAAL;;AAEA,QAAI,QAAJ,EAAc;AACZ,WAAK,kBAAL,GAA0B,GAAG,MAAH,CAAU,SAAS,IAAnB,EAAyB,SAAS,kBAAlC,EAAsD,KAAK,kBAA3D,CAA1B;AACD;AACF;;AAED,UAAQ,SAAR,CAAkB,UAAlB,GAA+B,SAAS,UAAT,GAAsB;AACnD,SAAK,UAAL;AACA,SAAK,eAAL,GAAuB,IAAvB;AACD,GAHD;;AAKA,UAAQ,SAAR,CAAkB,QAAlB,GAA6B,SAAS,QAAT,CAAkB,KAAlB,EAAyB;AACpD,QAAI,KAAK,eAAT,EAA0B;AAC1B,SAAK,QAAL,GAAgB,IAAhB;AACA,SAAK,KAAL,GAAa,KAAb;AACD,GAJD;;AAMA,UAAQ,SAAR,CAAkB,UAAlB,GAA+B,SAAS,UAAT,GAAsB;AACnD,SAAK,eAAL,GAAuB,KAAvB;AACA,SAAK,QAAL,GAAgB,KAAhB;AACA,SAAK,KAAL,GAAa,IAAb;AACD,GAJD;;AAMA,UAAQ,SAAR,CAAkB,QAAlB,GAA6B,SAAS,QAAT,CAAkB,IAAlB,EAAwB;AACnD,SAAK,QAAL,GAAgB,KAAhB;AACA,QAAI,KAAK,kBAAL,CAAwB,OAAxB,CAAgC,IAAhC,MAA0C,CAAC,CAA/C,EAAkD;AAChD;AACD;AACD,SAAK,kBAAL,CAAwB,IAAxB,CAA6B,IAA7B;AACD,GAND;;AAQA,UAAQ,SAAR,CAAkB,SAAlB,GAA8B,SAAS,SAAT,CAAmB,IAAnB,EAAyB;AACrD,QAAI,KAAK,cAAL,CAAoB,OAApB,CAA4B,IAA5B,MAAsC,CAAC,CAA3C,EAA8C;AAC5C;AACD;AACD,SAAK,UAAL,GAAkB,IAAlB;AACA,SAAK,UAAL;AACA,SAAK,cAAL,CAAoB,IAApB,CAAyB,IAAzB;AACD,GAPD;;AASA,UAAQ,SAAR,CAAkB,WAAlB,GAAgC,SAAS,WAAT,GAAuB;AACrD,SAAK,UAAL;AACA,SAAK,UAAL,GAAkB,CAAC,CAAC,KAAK,UAAzB;AACD,GAHD;;AAKA,SAAO,OAAP;AACD,CApEa,EAAd;;AAsEA,QAAQ,OAAR,GAAkB,OAAlB;AACA,OAAO,OAAP,GAAiB,QAAQ,SAAR,CAAjB","file":"binding-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Binding = function () {\n  function Binding(_ref) {\n    var existing = _ref.existing,\n        identifier = _ref.identifier,\n        scope = _ref.scope,\n        path = _ref.path,\n        kind = _ref.kind;\n    (0, _classCallCheck3.default)(this, Binding);\n\n    this.identifier = identifier;\n    this.scope = scope;\n    this.path = path;\n    this.kind = kind;\n\n    this.constantViolations = [];\n    this.constant = true;\n\n    this.referencePaths = [];\n    this.referenced = false;\n    this.references = 0;\n\n    this.clearValue();\n\n    if (existing) {\n      this.constantViolations = [].concat(existing.path, existing.constantViolations, this.constantViolations);\n    }\n  }\n\n  Binding.prototype.deoptValue = function deoptValue() {\n    this.clearValue();\n    this.hasDeoptedValue = true;\n  };\n\n  Binding.prototype.setValue = function setValue(value) {\n    if (this.hasDeoptedValue) return;\n    this.hasValue = true;\n    this.value = value;\n  };\n\n  Binding.prototype.clearValue = function clearValue() {\n    this.hasDeoptedValue = false;\n    this.hasValue = false;\n    this.value = null;\n  };\n\n  Binding.prototype.reassign = function reassign(path) {\n    this.constant = false;\n    if (this.constantViolations.indexOf(path) !== -1) {\n      return;\n    }\n    this.constantViolations.push(path);\n  };\n\n  Binding.prototype.reference = function reference(path) {\n    if (this.referencePaths.indexOf(path) !== -1) {\n      return;\n    }\n    this.referenced = true;\n    this.references++;\n    this.referencePaths.push(path);\n  };\n\n  Binding.prototype.dereference = function dereference() {\n    this.references--;\n    this.referenced = !!this.references;\n  };\n\n  return Binding;\n}();\n\nexports.default = Binding;\nmodule.exports = exports[\"default\"];"]}