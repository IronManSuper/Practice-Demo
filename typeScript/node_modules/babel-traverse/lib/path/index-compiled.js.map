{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _virtualTypes = require(\"./lib/virtual-types\");\n\nvar virtualTypes = _interopRequireWildcard(_virtualTypes);\n\nvar _debug2 = require(\"debug\");\n\nvar _debug3 = _interopRequireDefault(_debug2);\n\nvar _invariant = require(\"invariant\");\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _index = require(\"../index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _assign = require(\"lodash/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _scope = require(\"../scope\");\n\nvar _scope2 = _interopRequireDefault(_scope);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _cache = require(\"../cache\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _debug = (0, _debug3.default)(\"babel\");\n\nvar NodePath = function () {\n  function NodePath(hub, parent) {\n    (0, _classCallCheck3.default)(this, NodePath);\n\n    this.parent = parent;\n    this.hub = hub;\n    this.contexts = [];\n    this.data = {};\n    this.shouldSkip = false;\n    this.shouldStop = false;\n    this.removed = false;\n    this.state = null;\n    this.opts = null;\n    this.skipKeys = null;\n    this.parentPath = null;\n    this.context = null;\n    this.container = null;\n    this.listKey = null;\n    this.inList = false;\n    this.parentKey = null;\n    this.key = null;\n    this.node = null;\n    this.scope = null;\n    this.type = null;\n    this.typeAnnotation = null;\n  }\n\n  NodePath.get = function get(_ref) {\n    var hub = _ref.hub,\n        parentPath = _ref.parentPath,\n        parent = _ref.parent,\n        container = _ref.container,\n        listKey = _ref.listKey,\n        key = _ref.key;\n\n    if (!hub && parentPath) {\n      hub = parentPath.hub;\n    }\n\n    (0, _invariant2.default)(parent, \"To get a node path the parent needs to exist\");\n\n    var targetNode = container[key];\n\n    var paths = _cache.path.get(parent) || [];\n    if (!_cache.path.has(parent)) {\n      _cache.path.set(parent, paths);\n    }\n\n    var path = void 0;\n\n    for (var i = 0; i < paths.length; i++) {\n      var pathCheck = paths[i];\n      if (pathCheck.node === targetNode) {\n        path = pathCheck;\n        break;\n      }\n    }\n\n    if (!path) {\n      path = new NodePath(hub, parent);\n      paths.push(path);\n    }\n\n    path.setup(parentPath, container, listKey, key);\n\n    return path;\n  };\n\n  NodePath.prototype.getScope = function getScope(scope) {\n    var ourScope = scope;\n\n    if (this.isScope()) {\n      ourScope = new _scope2.default(this, scope);\n    }\n\n    return ourScope;\n  };\n\n  NodePath.prototype.setData = function setData(key, val) {\n    return this.data[key] = val;\n  };\n\n  NodePath.prototype.getData = function getData(key, def) {\n    var val = this.data[key];\n    if (!val && def) val = this.data[key] = def;\n    return val;\n  };\n\n  NodePath.prototype.buildCodeFrameError = function buildCodeFrameError(msg) {\n    var Error = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : SyntaxError;\n\n    return this.hub.file.buildCodeFrameError(this.node, msg, Error);\n  };\n\n  NodePath.prototype.traverse = function traverse(visitor, state) {\n    (0, _index2.default)(this.node, visitor, this.scope, state, this);\n  };\n\n  NodePath.prototype.mark = function mark(type, message) {\n    this.hub.file.metadata.marked.push({\n      type: type,\n      message: message,\n      loc: this.node.loc\n    });\n  };\n\n  NodePath.prototype.set = function set(key, node) {\n    t.validate(this.node, key, node);\n    this.node[key] = node;\n  };\n\n  NodePath.prototype.getPathLocation = function getPathLocation() {\n    var parts = [];\n    var path = this;\n    do {\n      var key = path.key;\n      if (path.inList) key = path.listKey + \"[\" + key + \"]\";\n      parts.unshift(key);\n    } while (path = path.parentPath);\n    return parts.join(\".\");\n  };\n\n  NodePath.prototype.debug = function debug(buildMessage) {\n    if (!_debug.enabled) return;\n    _debug(this.getPathLocation() + \" \" + this.type + \": \" + buildMessage());\n  };\n\n  return NodePath;\n}();\n\nexports.default = NodePath;\n\n\n(0, _assign2.default)(NodePath.prototype, require(\"./ancestry\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./inference\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./replacement\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./evaluation\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./conversion\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./introspection\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./context\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./removal\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./modification\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./family\"));\n(0, _assign2.default)(NodePath.prototype, require(\"./comments\"));\n\nvar _loop2 = function _loop2() {\n  if (_isArray) {\n    if (_i >= _iterator.length) return \"break\";\n    _ref2 = _iterator[_i++];\n  } else {\n    _i = _iterator.next();\n    if (_i.done) return \"break\";\n    _ref2 = _i.value;\n  }\n\n  var type = _ref2;\n\n  var typeKey = \"is\" + type;\n  NodePath.prototype[typeKey] = function (opts) {\n    return t[typeKey](this.node, opts);\n  };\n\n  NodePath.prototype[\"assert\" + type] = function (opts) {\n    if (!this[typeKey](opts)) {\n      throw new TypeError(\"Expected node path of type \" + type);\n    }\n  };\n};\n\nfor (var _iterator = t.TYPES, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n  var _ref2;\n\n  var _ret2 = _loop2();\n\n  if (_ret2 === \"break\") break;\n}\n\nvar _loop = function _loop(type) {\n  if (type[0] === \"_\") return \"continue\";\n  if (t.TYPES.indexOf(type) < 0) t.TYPES.push(type);\n\n  var virtualType = virtualTypes[type];\n\n  NodePath.prototype[\"is\" + type] = function (opts) {\n    return virtualType.checkPath(this, opts);\n  };\n};\n\nfor (var type in virtualTypes) {\n  var _ret = _loop(type);\n\n  if (_ret === \"continue\") continue;\n}\nmodule.exports = exports[\"default\"];"]}