{"version":3,"sources":["family.js"],"names":[],"mappings":"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","file":"family-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nexports.getStatementParent = getStatementParent;\nexports.getOpposite = getOpposite;\nexports.getCompletionRecords = getCompletionRecords;\nexports.getSibling = getSibling;\nexports.get = get;\nexports._getKey = _getKey;\nexports._getPattern = _getPattern;\nexports.getBindingIdentifiers = getBindingIdentifiers;\nexports.getOuterBindingIdentifiers = getOuterBindingIdentifiers;\nexports.getBindingIdentifierPaths = getBindingIdentifierPaths;\nexports.getOuterBindingIdentifierPaths = getOuterBindingIdentifierPaths;\n\nvar _index = require(\"./index\");\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getStatementParent() {\n  var path = this;\n\n  do {\n    if (!path.parentPath || Array.isArray(path.container) && path.isStatement()) {\n      break;\n    } else {\n      path = path.parentPath;\n    }\n  } while (path);\n\n  if (path && (path.isProgram() || path.isFile())) {\n    throw new Error(\"File/Program node, we can't possibly find a statement parent to this\");\n  }\n\n  return path;\n}\n\nfunction getOpposite() {\n  if (this.key === \"left\") {\n    return this.getSibling(\"right\");\n  } else if (this.key === \"right\") {\n    return this.getSibling(\"left\");\n  }\n}\n\nfunction getCompletionRecords() {\n  var paths = [];\n\n  var add = function add(path) {\n    if (path) paths = paths.concat(path.getCompletionRecords());\n  };\n\n  if (this.isIfStatement()) {\n    add(this.get(\"consequent\"));\n    add(this.get(\"alternate\"));\n  } else if (this.isDoExpression() || this.isFor() || this.isWhile()) {\n    add(this.get(\"body\"));\n  } else if (this.isProgram() || this.isBlockStatement()) {\n    add(this.get(\"body\").pop());\n  } else if (this.isFunction()) {\n    return this.get(\"body\").getCompletionRecords();\n  } else if (this.isTryStatement()) {\n    add(this.get(\"block\"));\n    add(this.get(\"handler\"));\n    add(this.get(\"finalizer\"));\n  } else {\n    paths.push(this);\n  }\n\n  return paths;\n}\n\nfunction getSibling(key) {\n  return _index2.default.get({\n    parentPath: this.parentPath,\n    parent: this.parent,\n    container: this.container,\n    listKey: this.listKey,\n    key: key\n  });\n}\n\nfunction get(key, context) {\n  if (context === true) context = this.context;\n  var parts = key.split(\".\");\n  if (parts.length === 1) {\n    return this._getKey(key, context);\n  } else {\n    return this._getPattern(parts, context);\n  }\n}\n\nfunction _getKey(key, context) {\n  var _this = this;\n\n  var node = this.node;\n  var container = node[key];\n\n  if (Array.isArray(container)) {\n    return container.map(function (_, i) {\n      return _index2.default.get({\n        listKey: key,\n        parentPath: _this,\n        parent: node,\n        container: container,\n        key: i\n      }).setContext(context);\n    });\n  } else {\n    return _index2.default.get({\n      parentPath: this,\n      parent: node,\n      container: node,\n      key: key\n    }).setContext(context);\n  }\n}\n\nfunction _getPattern(parts, context) {\n  var path = this;\n  for (var _iterator = parts, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var part = _ref;\n\n    if (part === \".\") {\n      path = path.parentPath;\n    } else {\n      if (Array.isArray(path)) {\n        path = path[part];\n      } else {\n        path = path.get(part, context);\n      }\n    }\n  }\n  return path;\n}\n\nfunction getBindingIdentifiers(duplicates) {\n  return t.getBindingIdentifiers(this.node, duplicates);\n}\n\nfunction getOuterBindingIdentifiers(duplicates) {\n  return t.getOuterBindingIdentifiers(this.node, duplicates);\n}\n\nfunction getBindingIdentifierPaths() {\n  var duplicates = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var outerOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var path = this;\n  var search = [].concat(path);\n  var ids = (0, _create2.default)(null);\n\n  while (search.length) {\n    var id = search.shift();\n    if (!id) continue;\n    if (!id.node) continue;\n\n    var keys = t.getBindingIdentifiers.keys[id.node.type];\n\n    if (id.isIdentifier()) {\n      if (duplicates) {\n        var _ids = ids[id.node.name] = ids[id.node.name] || [];\n        _ids.push(id);\n      } else {\n        ids[id.node.name] = id;\n      }\n      continue;\n    }\n\n    if (id.isExportDeclaration()) {\n      var declaration = id.get(\"declaration\");\n      if (declaration.isDeclaration()) {\n        search.push(declaration);\n      }\n      continue;\n    }\n\n    if (outerOnly) {\n      if (id.isFunctionDeclaration()) {\n        search.push(id.get(\"id\"));\n        continue;\n      }\n      if (id.isFunctionExpression()) {\n        continue;\n      }\n    }\n\n    if (keys) {\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        var child = id.get(key);\n        if (Array.isArray(child) || child.node) {\n          search = search.concat(child);\n        }\n      }\n    }\n  }\n\n  return ids;\n}\n\nfunction getOuterBindingIdentifierPaths(duplicates) {\n  return this.getBindingIdentifierPaths(duplicates, true);\n}"]}