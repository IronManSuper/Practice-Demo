{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.visitors = exports.Hub = exports.Scope = exports.NodePath = undefined;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _path = require(\"./path\");\n\nObject.defineProperty(exports, \"NodePath\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_path).default;\n  }\n});\n\nvar _scope = require(\"./scope\");\n\nObject.defineProperty(exports, \"Scope\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_scope).default;\n  }\n});\n\nvar _hub = require(\"./hub\");\n\nObject.defineProperty(exports, \"Hub\", {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_hub).default;\n  }\n});\nexports.default = traverse;\n\nvar _context = require(\"./context\");\n\nvar _context2 = _interopRequireDefault(_context);\n\nvar _visitors = require(\"./visitors\");\n\nvar visitors = _interopRequireWildcard(_visitors);\n\nvar _babelMessages = require(\"babel-messages\");\n\nvar messages = _interopRequireWildcard(_babelMessages);\n\nvar _includes = require(\"lodash/includes\");\n\nvar _includes2 = _interopRequireDefault(_includes);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nvar _cache = require(\"./cache\");\n\nvar cache = _interopRequireWildcard(_cache);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.visitors = visitors;\nfunction traverse(parent, opts, scope, state, parentPath) {\n  if (!parent) return;\n  if (!opts) opts = {};\n\n  if (!opts.noScope && !scope) {\n    if (parent.type !== \"Program\" && parent.type !== \"File\") {\n      throw new Error(messages.get(\"traverseNeedsParent\", parent.type));\n    }\n  }\n\n  visitors.explode(opts);\n\n  traverse.node(parent, opts, scope, state, parentPath);\n}\n\ntraverse.visitors = visitors;\ntraverse.verify = visitors.verify;\ntraverse.explode = visitors.explode;\n\ntraverse.NodePath = require(\"./path\");\ntraverse.Scope = require(\"./scope\");\ntraverse.Hub = require(\"./hub\");\n\ntraverse.cheap = function (node, enter) {\n  return t.traverseFast(node, enter);\n};\n\ntraverse.node = function (node, opts, scope, state, parentPath, skipKeys) {\n  var keys = t.VISITOR_KEYS[node.type];\n  if (!keys) return;\n\n  var context = new _context2.default(scope, opts, state, parentPath);\n  for (var _iterator = keys, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var key = _ref;\n\n    if (skipKeys && skipKeys[key]) continue;\n    if (context.visit(node, key)) return;\n  }\n};\n\ntraverse.clearNode = function (node, opts) {\n  t.removeProperties(node, opts);\n\n  cache.path.delete(node);\n};\n\ntraverse.removeProperties = function (tree, opts) {\n  t.traverseFast(tree, traverse.clearNode, opts);\n  return tree;\n};\n\nfunction hasBlacklistedType(path, state) {\n  if (path.node.type === state.type) {\n    state.has = true;\n    path.stop();\n  }\n}\n\ntraverse.hasType = function (tree, scope, type, blacklistTypes) {\n  if ((0, _includes2.default)(blacklistTypes, tree.type)) return false;\n\n  if (tree.type === type) return true;\n\n  var state = {\n    has: false,\n    type: type\n  };\n\n  traverse(tree, {\n    blacklist: blacklistTypes,\n    enter: hasBlacklistedType\n  }, scope, state);\n\n  return state.has;\n};\n\ntraverse.clearCache = function () {\n  cache.clear();\n};\n\ntraverse.clearCache.clearPath = cache.clearPath;\ntraverse.clearCache.clearScope = cache.clearScope;\n\ntraverse.copyCache = function (source, destination) {\n  if (cache.path.has(source)) {\n    cache.path.set(destination, cache.path.get(source));\n  }\n};"]}