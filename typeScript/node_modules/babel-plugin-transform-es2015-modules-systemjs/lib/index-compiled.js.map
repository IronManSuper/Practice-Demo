{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _create = require(\"babel-runtime/core-js/object/create\");\n\nvar _create2 = _interopRequireDefault(_create);\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _symbol = require(\"babel-runtime/core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nexports.default = function (_ref) {\n  var t = _ref.types;\n\n  var IGNORE_REASSIGNMENT_SYMBOL = (0, _symbol2.default)();\n\n  var reassignmentVisitor = {\n    \"AssignmentExpression|UpdateExpression\": function AssignmentExpressionUpdateExpression(path) {\n      if (path.node[IGNORE_REASSIGNMENT_SYMBOL]) return;\n      path.node[IGNORE_REASSIGNMENT_SYMBOL] = true;\n\n      var arg = path.get(path.isAssignmentExpression() ? \"left\" : \"argument\");\n      if (!arg.isIdentifier()) return;\n\n      var name = arg.node.name;\n\n      if (this.scope.getBinding(name) !== path.scope.getBinding(name)) return;\n\n      var exportedNames = this.exports[name];\n      if (!exportedNames) return;\n\n      var node = path.node;\n\n      var isPostUpdateExpression = path.isUpdateExpression() && !node.prefix;\n      if (isPostUpdateExpression) {\n        if (node.operator === \"++\") node = t.binaryExpression(\"+\", node.argument, t.numericLiteral(1));else if (node.operator === \"--\") node = t.binaryExpression(\"-\", node.argument, t.numericLiteral(1));else isPostUpdateExpression = false;\n      }\n\n      for (var _iterator = exportedNames, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n        var _ref2;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref2 = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref2 = _i.value;\n        }\n\n        var exportedName = _ref2;\n\n        node = this.buildCall(exportedName, node).expression;\n      }\n\n      if (isPostUpdateExpression) node = t.sequenceExpression([node, path.node]);\n\n      path.replaceWith(node);\n    }\n  };\n\n  return {\n    visitor: {\n      CallExpression: function CallExpression(path, state) {\n        if (path.node.callee.type === TYPE_IMPORT) {\n          var contextIdent = state.contextIdent;\n          path.replaceWith(t.callExpression(t.memberExpression(contextIdent, t.identifier(\"import\")), path.node.arguments));\n        }\n      },\n      ReferencedIdentifier: function ReferencedIdentifier(path, state) {\n        if (path.node.name == \"__moduleName\" && !path.scope.hasBinding(\"__moduleName\")) {\n          path.replaceWith(t.memberExpression(state.contextIdent, t.identifier(\"id\")));\n        }\n      },\n\n\n      Program: {\n        enter: function enter(path, state) {\n          state.contextIdent = path.scope.generateUidIdentifier(\"context\");\n        },\n        exit: function exit(path, state) {\n          var exportIdent = path.scope.generateUidIdentifier(\"export\");\n          var contextIdent = state.contextIdent;\n\n          var exportNames = (0, _create2.default)(null);\n          var modules = [];\n\n          var beforeBody = [];\n          var setters = [];\n          var sources = [];\n          var variableIds = [];\n          var removedPaths = [];\n\n          function addExportName(key, val) {\n            exportNames[key] = exportNames[key] || [];\n            exportNames[key].push(val);\n          }\n\n          function pushModule(source, key, specifiers) {\n            var module = void 0;\n            modules.forEach(function (m) {\n              if (m.key === source) {\n                module = m;\n              }\n            });\n            if (!module) {\n              modules.push(module = { key: source, imports: [], exports: [] });\n            }\n            module[key] = module[key].concat(specifiers);\n          }\n\n          function buildExportCall(name, val) {\n            return t.expressionStatement(t.callExpression(exportIdent, [t.stringLiteral(name), val]));\n          }\n\n          var body = path.get(\"body\");\n\n          var canHoist = true;\n          for (var _iterator2 = body, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n            var _ref3;\n\n            if (_isArray2) {\n              if (_i2 >= _iterator2.length) break;\n              _ref3 = _iterator2[_i2++];\n            } else {\n              _i2 = _iterator2.next();\n              if (_i2.done) break;\n              _ref3 = _i2.value;\n            }\n\n            var _path = _ref3;\n\n            if (_path.isExportDeclaration()) _path = _path.get(\"declaration\");\n            if (_path.isVariableDeclaration() && _path.node.kind !== \"var\") {\n              canHoist = false;\n              break;\n            }\n          }\n\n          for (var _iterator3 = body, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n            var _ref4;\n\n            if (_isArray3) {\n              if (_i3 >= _iterator3.length) break;\n              _ref4 = _iterator3[_i3++];\n            } else {\n              _i3 = _iterator3.next();\n              if (_i3.done) break;\n              _ref4 = _i3.value;\n            }\n\n            var _path2 = _ref4;\n\n            if (canHoist && _path2.isFunctionDeclaration()) {\n              beforeBody.push(_path2.node);\n              removedPaths.push(_path2);\n            } else if (_path2.isImportDeclaration()) {\n              var source = _path2.node.source.value;\n              pushModule(source, \"imports\", _path2.node.specifiers);\n              for (var name in _path2.getBindingIdentifiers()) {\n                _path2.scope.removeBinding(name);\n                variableIds.push(t.identifier(name));\n              }\n              _path2.remove();\n            } else if (_path2.isExportAllDeclaration()) {\n              pushModule(_path2.node.source.value, \"exports\", _path2.node);\n              _path2.remove();\n            } else if (_path2.isExportDefaultDeclaration()) {\n              var declar = _path2.get(\"declaration\");\n              if (declar.isClassDeclaration() || declar.isFunctionDeclaration()) {\n                var id = declar.node.id;\n                var nodes = [];\n\n                if (id) {\n                  nodes.push(declar.node);\n                  nodes.push(buildExportCall(\"default\", id));\n                  addExportName(id.name, \"default\");\n                } else {\n                  nodes.push(buildExportCall(\"default\", t.toExpression(declar.node)));\n                }\n\n                if (!canHoist || declar.isClassDeclaration()) {\n                  _path2.replaceWithMultiple(nodes);\n                } else {\n                  beforeBody = beforeBody.concat(nodes);\n                  removedPaths.push(_path2);\n                }\n              } else {\n                _path2.replaceWith(buildExportCall(\"default\", declar.node));\n              }\n            } else if (_path2.isExportNamedDeclaration()) {\n              var _declar = _path2.get(\"declaration\");\n\n              if (_declar.node) {\n                _path2.replaceWith(_declar);\n\n                var _nodes = [];\n                var bindingIdentifiers = void 0;\n                if (_path2.isFunction()) {\n                  var node = _declar.node;\n                  var _name = node.id.name;\n                  if (canHoist) {\n                    addExportName(_name, _name);\n                    beforeBody.push(node);\n                    beforeBody.push(buildExportCall(_name, node.id));\n                    removedPaths.push(_path2);\n                  } else {\n                    var _bindingIdentifiers;\n\n                    bindingIdentifiers = (_bindingIdentifiers = {}, _bindingIdentifiers[_name] = node.id, _bindingIdentifiers);\n                  }\n                } else {\n                  bindingIdentifiers = _declar.getBindingIdentifiers();\n                }\n                for (var _name2 in bindingIdentifiers) {\n                  addExportName(_name2, _name2);\n                  _nodes.push(buildExportCall(_name2, t.identifier(_name2)));\n                }\n                _path2.insertAfter(_nodes);\n              } else {\n                var specifiers = _path2.node.specifiers;\n                if (specifiers && specifiers.length) {\n                  if (_path2.node.source) {\n                    pushModule(_path2.node.source.value, \"exports\", specifiers);\n                    _path2.remove();\n                  } else {\n                    var _nodes2 = [];\n\n                    for (var _iterator7 = specifiers, _isArray7 = Array.isArray(_iterator7), _i7 = 0, _iterator7 = _isArray7 ? _iterator7 : (0, _getIterator3.default)(_iterator7);;) {\n                      var _ref8;\n\n                      if (_isArray7) {\n                        if (_i7 >= _iterator7.length) break;\n                        _ref8 = _iterator7[_i7++];\n                      } else {\n                        _i7 = _iterator7.next();\n                        if (_i7.done) break;\n                        _ref8 = _i7.value;\n                      }\n\n                      var specifier = _ref8;\n\n                      _nodes2.push(buildExportCall(specifier.exported.name, specifier.local));\n                      addExportName(specifier.local.name, specifier.exported.name);\n                    }\n\n                    _path2.replaceWithMultiple(_nodes2);\n                  }\n                }\n              }\n            }\n          }\n\n          modules.forEach(function (specifiers) {\n            var setterBody = [];\n            var target = path.scope.generateUidIdentifier(specifiers.key);\n\n            for (var _iterator4 = specifiers.imports, _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n              var _ref5;\n\n              if (_isArray4) {\n                if (_i4 >= _iterator4.length) break;\n                _ref5 = _iterator4[_i4++];\n              } else {\n                _i4 = _iterator4.next();\n                if (_i4.done) break;\n                _ref5 = _i4.value;\n              }\n\n              var specifier = _ref5;\n\n              if (t.isImportNamespaceSpecifier(specifier)) {\n                setterBody.push(t.expressionStatement(t.assignmentExpression(\"=\", specifier.local, target)));\n              } else if (t.isImportDefaultSpecifier(specifier)) {\n                specifier = t.importSpecifier(specifier.local, t.identifier(\"default\"));\n              }\n\n              if (t.isImportSpecifier(specifier)) {\n                setterBody.push(t.expressionStatement(t.assignmentExpression(\"=\", specifier.local, t.memberExpression(target, specifier.imported))));\n              }\n            }\n\n            if (specifiers.exports.length) {\n              var exportObjRef = path.scope.generateUidIdentifier(\"exportObj\");\n\n              setterBody.push(t.variableDeclaration(\"var\", [t.variableDeclarator(exportObjRef, t.objectExpression([]))]));\n\n              for (var _iterator5 = specifiers.exports, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : (0, _getIterator3.default)(_iterator5);;) {\n                var _ref6;\n\n                if (_isArray5) {\n                  if (_i5 >= _iterator5.length) break;\n                  _ref6 = _iterator5[_i5++];\n                } else {\n                  _i5 = _iterator5.next();\n                  if (_i5.done) break;\n                  _ref6 = _i5.value;\n                }\n\n                var node = _ref6;\n\n                if (t.isExportAllDeclaration(node)) {\n                  setterBody.push(buildExportAll({\n                    KEY: path.scope.generateUidIdentifier(\"key\"),\n                    EXPORT_OBJ: exportObjRef,\n                    TARGET: target\n                  }));\n                } else if (t.isExportSpecifier(node)) {\n                  setterBody.push(t.expressionStatement(t.assignmentExpression(\"=\", t.memberExpression(exportObjRef, node.exported), t.memberExpression(target, node.local))));\n                } else {}\n              }\n\n              setterBody.push(t.expressionStatement(t.callExpression(exportIdent, [exportObjRef])));\n            }\n\n            sources.push(t.stringLiteral(specifiers.key));\n            setters.push(t.functionExpression(null, [target], t.blockStatement(setterBody)));\n          });\n\n          var moduleName = this.getModuleName();\n          if (moduleName) moduleName = t.stringLiteral(moduleName);\n\n          if (canHoist) {\n            (0, _babelHelperHoistVariables2.default)(path, function (id) {\n              return variableIds.push(id);\n            });\n          }\n\n          if (variableIds.length) {\n            beforeBody.unshift(t.variableDeclaration(\"var\", variableIds.map(function (id) {\n              return t.variableDeclarator(id);\n            })));\n          }\n\n          path.traverse(reassignmentVisitor, {\n            exports: exportNames,\n            buildCall: buildExportCall,\n            scope: path.scope\n          });\n\n          for (var _iterator6 = removedPaths, _isArray6 = Array.isArray(_iterator6), _i6 = 0, _iterator6 = _isArray6 ? _iterator6 : (0, _getIterator3.default)(_iterator6);;) {\n            var _ref7;\n\n            if (_isArray6) {\n              if (_i6 >= _iterator6.length) break;\n              _ref7 = _iterator6[_i6++];\n            } else {\n              _i6 = _iterator6.next();\n              if (_i6.done) break;\n              _ref7 = _i6.value;\n            }\n\n            var _path3 = _ref7;\n\n            _path3.remove();\n          }\n\n          path.node.body = [buildTemplate({\n            SYSTEM_REGISTER: t.memberExpression(t.identifier(state.opts.systemGlobal || \"System\"), t.identifier(\"register\")),\n            BEFORE_BODY: beforeBody,\n            MODULE_NAME: moduleName,\n            SETTERS: setters,\n            SOURCES: sources,\n            BODY: path.node.body,\n            EXPORT_IDENTIFIER: exportIdent,\n            CONTEXT_IDENTIFIER: contextIdent\n          })];\n        }\n      }\n    }\n  };\n};\n\nvar _babelHelperHoistVariables = require(\"babel-helper-hoist-variables\");\n\nvar _babelHelperHoistVariables2 = _interopRequireDefault(_babelHelperHoistVariables);\n\nvar _babelTemplate = require(\"babel-template\");\n\nvar _babelTemplate2 = _interopRequireDefault(_babelTemplate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar buildTemplate = (0, _babelTemplate2.default)(\"\\n  SYSTEM_REGISTER(MODULE_NAME, [SOURCES], function (EXPORT_IDENTIFIER, CONTEXT_IDENTIFIER) {\\n    \\\"use strict\\\";\\n    BEFORE_BODY;\\n    return {\\n      setters: [SETTERS],\\n      execute: function () {\\n        BODY;\\n      }\\n    };\\n  });\\n\");\n\nvar buildExportAll = (0, _babelTemplate2.default)(\"\\n  for (var KEY in TARGET) {\\n    if (KEY !== \\\"default\\\" && KEY !== \\\"__esModule\\\") EXPORT_OBJ[KEY] = TARGET[KEY];\\n  }\\n\");\n\nvar TYPE_IMPORT = \"Import\";\n\nmodule.exports = exports[\"default\"];"]}